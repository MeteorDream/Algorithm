---
title: ã€LeetCodeã€1744 ä½ èƒ½åœ¨ä½ æœ€å–œæ¬¢çš„é‚£å¤©åƒåˆ°ä½ æœ€å–œæ¬¢çš„ç³–æœå—
date: 2021-06-01 17:07:31
updated: 2021-06-14 09:13:56
categories:
- [LeetCode]
- [LeetCode,å‰ç¼€å’Œ]
tags: [LeetCode,å‰ç¼€å’Œ]
---

## é¢˜ç›®

[1744. ä½ èƒ½åœ¨ä½ æœ€å–œæ¬¢çš„é‚£å¤©åƒåˆ°ä½ æœ€å–œæ¬¢çš„ç³–æœå—ï¼Ÿ](https://leetcode-cn.com/problems/can-you-eat-your-favorite-candy-on-your-favorite-day/)

éš¾åº¦: ä¸­ç­‰

<!--more-->

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„æ­£æ•´æ•°æ•°ç»„Â $candiesCount$Â ï¼Œå…¶ä¸­Â $candiesCount[i]$Â è¡¨ç¤ºä½ æ‹¥æœ‰çš„ç¬¬Â $i$Â ç±»ç³–æœçš„æ•°ç›®ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªäºŒç»´æ•°ç»„Â $queries$Â ï¼Œå…¶ä¸­Â $queries[i] = [favoriteTypei, favoriteDayi, dailyCapi]$Â ã€‚

ä½ æŒ‰ç…§å¦‚ä¸‹è§„åˆ™è¿›è¡Œä¸€åœºæ¸¸æˆï¼š

- ä½ ä»ç¬¬Â **0**Â å¤©å¼€å§‹åƒç³–æœã€‚
- ä½ åœ¨åƒå®Œ **æ‰€æœ‰**Â ç¬¬ $i - 1$Â ç±»ç³–æœä¹‹å‰ï¼Œ**ä¸èƒ½**Â åƒä»»ä½•ä¸€é¢—ç¬¬ $i$Â ç±»ç³–æœã€‚
- åœ¨åƒå®Œæ‰€æœ‰ç³–æœä¹‹å‰ï¼Œä½ å¿…é¡»æ¯å¤© $è‡³å°‘$Â åƒ $ä¸€é¢—$Â ç³–æœã€‚
  
è¯·ä½ æ„å»ºä¸€ä¸ªå¸ƒå°”å‹æ•°ç»„Â $answer$Â ï¼Œæ»¡è¶³Â $answer.length == queries.length$ ã€‚$answer[i]$Â ä¸ºÂ $true$Â çš„æ¡ä»¶æ˜¯ï¼šåœ¨æ¯å¤©åƒ **ä¸è¶…è¿‡** $dailyCapi$Â é¢—ç³–æœçš„å‰æä¸‹ï¼Œä½ å¯ä»¥åœ¨ç¬¬Â $favoriteDayi$Â å¤©åƒåˆ°ç¬¬Â $favoriteTypei$Â ç±»ç³–æœï¼›å¦åˆ™ $answer[i]$Â ä¸º $false$Â ã€‚æ³¨æ„ï¼Œåªè¦æ»¡è¶³ä¸Šé¢ 3 æ¡è§„åˆ™ä¸­çš„ç¬¬äºŒæ¡è§„åˆ™ï¼Œä½ å°±å¯ä»¥åœ¨åŒä¸€å¤©åƒä¸åŒç±»å‹çš„ç³–æœã€‚

è¯·ä½ è¿”å›å¾—åˆ°çš„æ•°ç»„Â $answer$Â ã€‚

$/quad$

ç¤ºä¾‹ 1ï¼š

> **è¾“å…¥ï¼š**candiesCount = [7,4,5,3,8], queries = [[0,2,2],[4,2,4],[2,13,1000000000]]
> **è¾“å‡ºï¼š**[true,false,true]
> **æç¤ºï¼š**
> 1- åœ¨ç¬¬ 0 å¤©åƒ 2 é¢—ç³–æœ(ç±»å‹ 0ï¼‰ï¼Œç¬¬ 1 å¤©åƒ 2 é¢—ç³–æœï¼ˆç±»å‹ 0ï¼‰ï¼Œç¬¬ 2 å¤©ä½ å¯ä»¥åƒåˆ°ç±»å‹ 0 çš„ç³–æœã€‚
> 2- æ¯å¤©ä½ æœ€å¤šåƒ 4 é¢—ç³–æœã€‚å³ä½¿ç¬¬ 0 å¤©åƒ 4 é¢—ç³–æœï¼ˆç±»å‹ 0ï¼‰ï¼Œç¬¬ 1 å¤©åƒ 4 é¢—ç³–æœï¼ˆç±»å‹ 0 å’Œç±»å‹ 1ï¼‰ï¼Œä½ ä¹Ÿæ²¡åŠæ³•åœ¨ç¬¬ 2 å¤©åƒåˆ°ç±»å‹ 4 çš„ç³–æœã€‚æ¢è¨€ä¹‹ï¼Œä½ æ²¡æ³•åœ¨æ¯å¤©åƒ 4 é¢—ç³–æœçš„é™åˆ¶ä¸‹åœ¨ç¬¬ 2 å¤©åƒåˆ°ç¬¬ 4 ç±»ç³–æœã€‚
> 3- å¦‚æœä½ æ¯å¤©åƒ 1 é¢—ç³–æœï¼Œä½ å¯ä»¥åœ¨ç¬¬ 13 å¤©åƒåˆ°ç±»å‹ 2 çš„ç³–æœã€‚

ç¤ºä¾‹ 2ï¼š

> **è¾“å…¥ï¼š**candiesCount = [5,2,6,4,1], queries = [[3,1,2],[4,10,3],[3,10,100],[4,100,30],[1,3,1]]
> **è¾“å‡ºï¼š**[false,true,true,false,false]

æç¤ºï¼š

- $1 <= candiesCount.length <= 10^5$
- $1 <= candiesCount[i] <= 10^5$
- $1 <= queries.length <= 10^5$
- $queries[i].length == 3$
- $0 <= favoriteTypei < candiesCount.length$
- $0 <= favoriteDayi <= 10^9$
- $1 <= dailyCapi <= 10^9$

## è§£æ

å¤§å®¶å„¿ç«¥èŠ‚å¿«ä¹å‘€~  

ä»Šå¤©ä½ åƒäº†ç”œç”œçš„ç³–æœğŸ­å—?

é¢˜ç›®æœ‰ç‚¹é•¿ï¼Œå…ˆæ¢³ç†æ¸…æ¥šé¢˜æ„ï¼š

åœ¨ä¸€æ’æ ¼å­ä¸­ï¼Œæ¯ä¸ªæ ¼å­æ”¾äº†ä¸€äº›ç³–æœï¼Œæ ¼å­ä¸­ç³–æœçš„æ•°é‡è®°å½•åœ¨ candiesCount ä¸­ï¼Œç°åœ¨æˆ‘ä»¬å¿…é¡»æŒ‰é¡ºåºåƒæ‰æ ¼å­ä¸­çš„ç³–æœï¼Œåœ¨å½“å‰æ ¼å­çš„ç³–æœæ²¡åƒå®Œä¹‹å‰ä¸èƒ½åƒä¸‹ä¸€ä¸ªæ ¼å­ä¸­çš„ç³–æœï¼Œç°åœ¨è¯·å›ç­”ä¸€ä¸ªé—®é¢˜ï¼š

- å‡è®¾æ¯å¤©æœ€å¤šåƒ z é¢—ç³–æœ, æœ€å°‘ä¹Ÿè¦åƒ 1 é¢—ç³–æœï¼Œç¬¬ y å¤©æ˜¯æˆ‘çš„ç”Ÿæ—¥äº†ï¼Œè¯·é—®æˆ‘èƒ½ä¸èƒ½åœ¨ç”Ÿæ—¥é‚£å¤©åƒåˆ°æ”¾åœ¨ç¬¬ x ä¸ªæ ¼å­ä¸­çš„æˆ‘æœ€å–œæ¬¢åƒçš„ç³–æœå‘¢ï¼Ÿ

ä½†æ˜¯é™¤äº†æˆ‘ä»¥å¤–ï¼Œæˆ‘çš„æœ‹å‹ä»¬ä¹Ÿæƒ³åœ¨ç”Ÿæ—¥é‚£å¤©åƒåˆ°ä»–ä»¬å–œæ¬¢çš„ç³–æœï¼Œæ‰€ä»¥è¯·å¯¹ä¸Šè¿°é—®é¢˜ç»™å‡ºä¸€ä¸ªé€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå¯¹äºæ¯ä¸ªäººå¯¹åº”çš„ (x,y,z) å€¼æ”¾åœ¨äº†äºŒç»´æ•°ç»„å‚æ•° queries ä¸­

### å‰ç¼€å’Œ

ä¸éš¾çœ‹å‡ºï¼Œæƒ³è¦åƒåˆ°ç¬¬ i ä¸ªæ ¼å­ä¸­çš„ç³–æœï¼Œå°±å¿…é¡»åƒå…‰å‰ i - 1 ä¸ªæ ¼å­ä¸­çš„ç³–æœï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—å…ˆè®¡ç®—å‡ºå‰ i - 1 ä¸ªæ ¼å­ä¸­çš„ç³–æœæ€»æ•° s[i], ä½†æ˜¯å‘¢ä¹Ÿä¸èƒ½åœ¨ y å¤©ä¹‹å‰å°±æŠŠç¬¬ i ä¸ªæ ¼å­çš„ç³–æœåƒå®Œäº†ï¼Œæ‰€ä»¥è¦æ±‚å‰ y å¤©åƒæ‰çš„ç³–æœæ€»æ•°åœ¨ $(s[i],s[i + 1]]$ åŒºé—´èŒƒå›´å†…æˆ‘ä»¬æ‰èƒ½åœ¨å–œæ¬¢çš„æ—¥å­åƒæ‰å–œæ¬¢çš„ç³–æœ

å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬è€ƒå¯Ÿæˆ‘ä»¬åˆ°ç¬¬ y å¤©èƒ½åƒå¤šå°‘é¢—ç³–æœï¼ŒæŒ‰ç…§è¦æ±‚æ¯å¤©æœ€å°‘åƒä¸€é¢—ç³–æœï¼Œæœ€å¤šåƒ z é¢—ç³–æœï¼Œæ‰€ä»¥ç¬¬ y å¤©èƒ½åƒç³–æœçš„æ•°é‡èŒƒå›´ä¸º $[y+1,z * (y+1)]$ (æ³¨æ„å¤©æ•°æ˜¯ä»0å¼€å§‹çš„)

æ˜¾ç„¶ï¼Œåªè¦ä¸Šè¿°çš„ä¸¤ä¸ªåŒºé—´æœ‰äº¤é›†é‚£ä¹ˆæˆ‘ä»¬å°±èƒ½åœ¨å–œæ¬¢çš„æ—¥å­åƒæ‰å–œæ¬¢çš„ç³–æœå•¦~

ä¸ºäº†é¿å…åœ¨å¤šæ¬¡æŸ¥è¯¢æ—¶é‡å¤è®¡ç®—å‰ n ä¸ªæ ¼å­ä¸­ç³–æœæ€»æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨å‰ç¼€å’Œæ•°ç»„ $s$ è®°å½• å‰ i ä¸ªæ ¼å­ä¸­ç³–æœçš„æ€»æ•°ï¼Œ$s[i]$ è¡¨ç¤ºå‰ i-1 ç±»ç³–æœçš„æ•°é‡å’Œ, è¿™æ ·æˆ‘ä»¬å°±èƒ½åœ¨ $O(1)$ æ—¶é—´æŸ¥è¯¢åˆ°å‰ i ä¸ªæ ¼å­ä¸­ç³–æœçš„æ€»æ•°

å†æä¸€å¥ï¼Œå¦‚æœä¸¤åŒºé—´ A,B æœ‰äº¤é›†ï¼Œé‚£ä¹ˆå¿…å®šæœ‰ $A\\_left < B\\_right \\&\\& A\\_right > B\\_left$, æˆ–è€…è€ƒå¯Ÿå¯¹ç«‹äº‹ä»¶ A,B æ²¡æœ‰äº¤é›†ï¼Œæœ‰ $A\\_left > B\\_right || A\\_right < B\\_left$

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦: $O(n+m)$, è®¡ç®—å‰ç¼€å’Œæ•°ç»„ $O(n)$, $queries$ ä¸­ $m$ ä¸ªæŸ¥è¯¢æ¯æ¬¡éƒ½æ˜¯ $O(1)$
- ç©ºé—´å¤æ‚åº¦: $O(n)$, å‰ç¼€å’Œæ•°ç»„çš„ç©ºé—´

#### ä»£ç 

```python
# Code language: Python
class Solution:
    def canEat(self, candiesCount: List[int], queries: List[List[int]]) -> List[bool]:
        # candiesCount[i] è¡¨ç¤ºä½ æ‹¥æœ‰çš„ç¬¬ i ç±»ç³–æœçš„æ•°ç›®
        # queries[i] = [favoriteTypei, favoriteDayi, dailyCapi]
        # å³ å–œæ¬¢çš„ç³–æœä¸‹æ ‡ï¼Œ å–œæ¬¢çš„å¤©æ•°ï¼Œ æ¯å¤©æœ€å¤šåƒç³–
        # åœ¨æ¯å¤©åƒ ä¸è¶…è¿‡ dailyCapi é¢—ç³–æœçš„å‰æä¸‹, ä½ å¯ä»¥åœ¨ç¬¬ favoriteDayi å¤©åƒåˆ°ç¬¬ favoriteTypei ç±»ç³–æœ
        n, m = len(candiesCount), len(queries)
        # s[i] è¡¨ç¤ºå‰ i-1 ç±»ç³–æœçš„æ•°é‡å’Œ
        s = [0 for _ in range(n + 1)]
        ans = [0 for _ in range(m)]
        for i in range(n):
            s[i + 1] = s[i] + candiesCount[i]
        for i in range(m):
            # min, max è¡¨ç¤ºå–œæ¬¢é‚£å¤©æœ€å°‘è¦åƒçš„ç³–æœæ•°é‡å’Œæœ€å¤šèƒ½åƒçš„ç³–æœæ•°é‡
            min, max = queries[i][1], queries[i][2] * (queries[i][1] + 1)
            # åªè¦(s[q], s[q + 1])ä¸(min, max)åŒºé—´æœ‰äº¤é›†ï¼Œå³å¯åœ¨å–œæ¬¢é‚£å¤©åƒåˆ°å–œæ¬¢çš„ç³–æœ
            ans[i] = (min < s[queries[i][0] + 1]) and (max > s[queries[i][0]])
        return ans
```

```cpp
/* Code language: C++ */
class Solution {
public:
    vector<bool> canEat(vector<int>& candiesCount, vector<vector<int>>& queries) {
        // candiesCount[i] è¡¨ç¤ºä½ æ‹¥æœ‰çš„ç¬¬ i ç±»ç³–æœçš„æ•°ç›®
        // queries[i] = [favoriteTypei, favoriteDayi, dailyCapi]
        // å³ å–œæ¬¢çš„ç³–æœä¸‹æ ‡ï¼Œ å–œæ¬¢çš„å¤©æ•°ï¼Œ æ¯å¤©æœ€å¤šåƒç³–
        // åœ¨æ¯å¤©åƒ ä¸è¶…è¿‡ dailyCapi é¢—ç³–æœçš„å‰æä¸‹ ä½ å¯ä»¥åœ¨ç¬¬ favoriteDayi å¤©åƒåˆ°ç¬¬ favoriteTypei ç±»ç³–æœ
        int n = candiesCount.size(), m = queries.size();
        // s[i] è¡¨ç¤ºå‰ i-1 ç±»ç³–æœçš„æ•°é‡å’Œ
        vector<long> s(n + 1);
        vector<bool> ans(m);
        for (int i = 0; i < n; ++i)
            s[i + 1] = s[i] + candiesCount[i];
        for (int i = 0; i < m; ++i) {
            // min, max è¡¨ç¤ºå–œæ¬¢é‚£å¤©æœ€å°‘è¦åƒçš„ç³–æœæ•°é‡å’Œæœ€å¤šèƒ½åƒçš„ç³–æœæ•°é‡
            long min = queries[i][1], max = (long)queries[i][2] * (queries[i][1] + 1);
            // åªè¦(s[q], s[q + 1])ä¸(min, max)åŒºé—´æœ‰äº¤é›†ï¼Œå³å¯åœ¨å–œæ¬¢é‚£å¤©åƒåˆ°å–œæ¬¢çš„ç³–æœ
            ans[i] = (min < s[queries[i][0] + 1]) && (max > s[queries[i][0]]);
        }
        return ans;
    }
};
```

```java
/* Code language: Java */
class Solution {
    public boolean[] canEat(int[] candiesCount, int[][] queries) {
        // candiesCount[i] è¡¨ç¤ºä½ æ‹¥æœ‰çš„ç¬¬ i ç±»ç³–æœçš„æ•°ç›®
        // queries[i] = [favoriteTypei, favoriteDayi, dailyCapi]
        // å³ å–œæ¬¢çš„ç³–æœä¸‹æ ‡ï¼Œ å–œæ¬¢çš„å¤©æ•°ï¼Œ æ¯å¤©æœ€å¤šåƒç³–
        // åœ¨æ¯å¤©åƒ ä¸è¶…è¿‡ dailyCapi é¢—ç³–æœçš„å‰æä¸‹, ä½ å¯ä»¥åœ¨ç¬¬ favoriteDayi å¤©åƒåˆ°ç¬¬ favoriteTypei ç±»ç³–æœ
        int n = candiesCount.length, m = queries.length;
        // s[i] è¡¨ç¤ºå‰ i-1 ç±»ç³–æœçš„æ•°é‡å’Œ
        long[] s = new long[n + 1];
        boolean[] ans = new boolean[m];
        for (int i = 0; i < n; ++i)
            s[i + 1] = s[i] + candiesCount[i];
        for (int i = 0; i < m; ++i) {
            // min, max è¡¨ç¤ºå–œæ¬¢é‚£å¤©æœ€å°‘è¦åƒçš„ç³–æœæ•°é‡å’Œæœ€å¤šèƒ½åƒçš„ç³–æœæ•°é‡
            long min = queries[i][1], max = (long) queries[i][2] * (queries[i][1] + 1);
            // åªè¦(s[q], s[q + 1])ä¸(min, max)åŒºé—´æœ‰äº¤é›†ï¼Œå³å¯åœ¨å–œæ¬¢é‚£å¤©åƒåˆ°å–œæ¬¢çš„ç³–æœ
            ans[i] = (min < s[queries[i][0] + 1]) && (max > s[queries[i][0]]);
        }
        return ans;
    }
}
```
